##### How to protect overwriting /etc/resolv.conf after the reboot? (In network configuration) 

**add PEERDNS="no" to network interface configuration:**

[root@openstackstudy ~]# cat /etc/sysconfig/network-scripts/ifcfg-ens192
TYPE="Ethernet"
PROXY_METHOD="none"
BROWSER_ONLY="no"
BOOTPROTO="dhcp"
DEFROUTE="yes"
IPV4_FAILURE_FATAL="no"
IPV6INIT="yes"
IPV6_AUTOCONF="yes"
IPV6_DEFROUTE="yes"
IPV6_FAILURE_FATAL="no"
IPV6_ADDR_GEN_MODE="stable-privacy"
NAME="ens192"
UUID="ee4aedbd-379d-4d57-a736-679f279a30f3"
DEVICE="ens192"
ONBOOT="yes"
**PEERDNS="no"**
[root@openstackstudy ~]#

![alt text](https://media.licdn.com/dms/image/D4D12AQFecNrlr4YrOg/article-inline_image-shrink_1500_2232/0/1701177350842?e=1706745600&v=beta&t=lM_8POc8g5LyRXLDBa2tnAGOnB2ssFmP36Vykt6tyJ8))


1) before adding PEERDNS to configuration file will be rewrite via Network Manager
[root@openstackstudy ~]# cat /etc/resolv.conf
# Generated by NetworkManager
nameserver 8.8.8.8
2) after adding PEERDNS to configuration file, no rewrite 
[root@openstackstudy ~]# cat /etc/resolv.conf
# Generated by NetworkManager
nameserver 8.8.8.8
nameserver 8.8.4.4
[root@openstackstudy ~]# vi /etc/resolv.conf
[root@openstackstudy ~]# systemctl restart network
[root@openstackstudy ~]# cat /etc/resolv.conf
# Generated by NetworkManager
nameserver 8.8.8.8
nameserver 8.8.4.4
# enjoy life ;-) 
[root@openstackstudy ~]#
